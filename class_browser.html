<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Joose Class Browser</title>

<script src="lib/CodeMirror/js/codemirror.js" type="text/javascript"></script>
<script src="lib/jQuery/jquery-1.3.2.js" type="text/javascript"></script>

<!--script type="text/javascript" src="lib/Task/Joose/core.js"></script-->
<!--script type="text/javascript" src="lib/Joose.js"></script>
<script type="text/javascript" src="lib/Joose/Proto/Object.js"></script>
<script type="text/javascript" src="lib/Joose/Proto/Class.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Property.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Property/ConflictMarker.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Property/Requirement.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Property/Attribute.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Property/MethodModifier.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Property/MethodModifier/Override.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Property/MethodModifier/Put.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Property/MethodModifier/After.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Property/MethodModifier/Before.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Property/MethodModifier/Around.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Property/MethodModifier/Augment.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/PropertySet.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/PropertySet/Mutable.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/PropertySet/Containable.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/StemElement/Attributes.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/StemElement/Methods.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/StemElement/Requirements.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/StemElement/MethodModifiers.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/PropertySet/Composition.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Stem.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Builder.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Class.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Role.js"></script>
<script type="text/javascript" src="lib/Joose/Meta/Object.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Property/MetaRole.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/StemElement/MetaRoles.js"></script>
<script type="text/javascript" src="lib/Joose/Meta/MetaRole.js"></script>
<script type="text/javascript" src="lib/Joose/Meta/Class.js"></script>
<script type="text/javascript" src="lib/Joose/Meta/Role.js"></script>
<script type="text/javascript" src="lib/Joose/Meta/Class/Detached.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Attribute.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/PropertySet/Namespace.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/Attribute/Builder.js"></script>
<script type="text/javascript" src="lib/Joose/Managed/My.js"></script>
<script type="text/javascript" src="lib/Joose/Namespace/Able.js"></script>
<script type="text/javascript" src="lib/Joose/Namespace/Keeper.js"></script>
<script type="text/javascript" src="lib/Joose/Namespace/Manager.js"></script>
<script type="text/javascript" src="lib/Joose/Helper.js"></script>

<script type="text/javascript" src="lib/JooseX/Attribute/Lazy.js"></script>
<script type="text/javascript" src="lib/JooseX/Attribute/Trigger.js"></script-->

<script type="text/javascript" src="lib/Joose/Core.js"></script>

<script type="text/javascript" src="lib/JooseX/IDE/framework/ApplicationModel.js"></script>
<script type="text/javascript" src="lib/JooseX/IDE/CBAttributeCodeModel.js"></script>
<script type="text/javascript" src="lib/JooseX/IDE/CBClassOrRoleCodeModel.js"></script>
<script type="text/javascript" src="lib/JooseX/IDE/CBMethodCodeModel.js"></script>
<script type="text/javascript" src="lib/JooseX/IDE/CBNamespaceCodeModel.js"></script>
<script type="text/javascript" src="lib/JooseX/IDE/CBBrowserEditor.js"></script>
<script type="text/javascript" src="lib/JooseX/IDE/CBClassBrowser.js"></script>

<script type="text/javascript">
function initClassBrowser() {
    window.cb = JooseX.IDE.CBClassBrowser.my.open();
}

function initTitleEditor() {
    window.document.titleEditor = new CodeMirror($("#JooseCBTitle").get(0), {
        parserfile: ["tokenizejavascript.js", "parsejavascript.js"],  
        path: "lib/CodeMirror/js/",
        stylesheet: "lib/CodeMirror/css/jscolors.css",
        height: "2em"});
}

function initBodyEditor() {
    window.document.bodyEditor = new CodeMirror($("#JooseCBBody").get(0), {
        parserfile: ["tokenizejavascript.js", "parsejavascript.js"],  
        path: "lib/CodeMirror/js/",
        stylesheet: "lib/CodeMirror/css/jscolors.css",
        height: "35em"});
}

$(document).ready(function() {
    initClassBrowser();
    initTitleEditor();
    initBodyEditor();
});

Module("com.test.me", function () {
    Role("Doer", {
        methods: {
            doSomething: function() { alert("I'm doing something") }
        }
    });
        
	Class("TestClass", {
		isa: Joose.Method,
        does: com.test.me.Doer,
        has: {
            bar: {
                is: "rw",
                init: "world"
            }
        },
		//does: Joose.Decorator,
		methods: {
			hello: function () { return "world" }
		},
		my: {
                has: {
                baz: "a class attribute"
            },
			methods: {
				foo: function () { alert("bar") }
			}
		}
	})
})

</script>
<link href="test.css" rel="stylesheet" type="text/css" />

  <style type="text/css">
  #JooseCB {
  	font-family: Arial;
  }
  #JooseCB th {
  	text-align: left;
  	width: 25%;
  	background-color: #99ccff;
  }
  
  #JooseCB select {
  	min-width: 100%
  }
  
  #JooseCB td {
  	background-color: #99ccff;
  }
  #JooseCBContainerTable {
  	width: 100%;
  }
  </style>

</head>

<body>
<div id="JooseCB">
  <table id="JooseCBContainerTable" cellpadding=5 cellspacing=1>
    <tr>
      <th>Modules</th>
      <th>Classes and Roles</th>
      <th>Categories</th>
      <th>Elements</th>
    </tr>
    <tr>
      <td><select id="JooseCBModulesSelect" size=10     onchange="cb.selectedModule(this)"></select>
      <td><select id="JooseCBClassesSelect" size=10     onchange="cb.selectedClass(this)"></select>
      <td><select id="JooseCBCategoriesSelect" size=10  onchange="cb.selectedCategory(this)"></select>
      <td><select id="JooseCBElementsSelect" size=10    onchange="cb.selectedElement(this)"></select>
    </tr>
    <tr>
      <td id="JooseCBTitle" colspan="2"></td>
      <td id="JooseCBBodyActions"  colspan="2">
          <button id="JooseCBSaveAction" onclick="cb.getEditor().saveBody()">Save</button>
          <button id="JooseCBDiscardAction" onclick="cb.getEditor().discardBody()">Cancel</button>
          <button id="JooseCBDeleteAction" onclick="cb.getEditor().deleteBody()">Delete</button>
      </td>
    </tr>
    <tr>
      <td id="JooseCBBody" colspan="4"></td>
    </tr>
  </table>
</div>

</body>
</html>